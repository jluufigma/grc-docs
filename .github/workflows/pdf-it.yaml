name: Generate PDFs

on: push

jobs:
    pandoc:
        runs-on: ubuntu-latest

        steps:
          - name: Check out code
            uses: actions/checkout@v4
            with:
              fetch-depth: 0
              
          - uses: docker://pandoc/latex:latest-ubuntu
            with:
              entrypoint: /bin/sh
              args: -c .github/scripts/policies.sh

          - name: Upload output
            uses: actions/upload-artifact@master
            with:
              name: Figma-Policies-Combined.pdf
              path: figgov-policies.pdf
              
          - uses: docker://pandoc/latex:latest-ubuntu
            with:
              entrypoint: /bin/sh
              args: -c .github/scripts/procedures.sh
                  
          - name: Upload output
            uses: actions/upload-artifact@master
            with:
              name: figgov-a.pdf
              path: figgov-a.pdf
